<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Denunciar - EcoDenúncia</title>
  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="../css/components.css">
  <link rel="stylesheet" href="../css/pages/denuncia.css">
</head>

<body>
  <header>
    <div class="logo">
      <a href="../index.html">
        <img src="../assets/logo.png" alt="EcoDenúncia Logo">
      </a>
    </div>

    <nav class="menu">
      <ul>
        <li><a href="../index.html">HOME</a></li>
        <li><a href="#">SOBRE NÓS</a></li>
        <li><a href="#">PONTOS VICIADOS</a></li>
        <li><a href="#">CUIDE DO LIXO</a></li>
        <li id="user-status">
          <a href="login.html" id="login-link">LOGIN</a>
          <a href="#" id="logout-link" style="display: none;" onclick="logout(); return false;">LOGOUT</a>
        </li>
      </ul>
    </nav>

    <button class="menu-button" onclick="toggleMenu()">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>

  <main class="denuncia-page">
    <div class="container">
      <h1>Faça sua denúncia</h1>
      <p class="subtitle">Mantenha a nossa cidade limpa denunciando o descarte irregular de lixo</p>

      <form id="denuncia-form" class="form-container">
        <div class="form-group">
          <label for="tipo-denuncia">Tipo de denúncia</label>
          <select id="tipo-denuncia" required>
            <option value="">Selecione o tipo</option>
            <option value="lixo">Descarte irregular de lixo</option>
            <option value="esgoto">Entupimento de esgoto causado por acúmulo de lixo</option>
            <option value="outro">Outro</option>
          </select>
        </div>

        <div class="form-group">
          <label for="descricao">Descrição</label>
          <textarea id="descricao" rows="5" placeholder="Descreva o problema com detalhes" required></textarea>
        </div>

        <div class="form-group">
          <label for="endereco">Endereço</label>
          <input type="text" id="endereco" placeholder="Rua, número, bairro" required>
        </div>

        <div class="form-group">
          <label for="cidade">Cidade</label>
          <input type="text" id="cidade" required>
        </div>

        <div class="form-group">
          <label for="foto">Foto (opcional)</label>
          <div class="file-input-container">
            <label class="file-input-label">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21 15 16 10 5 21"></polyline>
              </svg>
              <span>Clique para selecionar uma foto</span>
              <input type="file" id="foto" accept="image/*">
            </label>
          </div>
          <div id="file-preview" class="file-preview">
            <img id="preview-image" src="#" alt="Preview da imagem">
          </div>
          <p class="form-help">Adicione uma foto para ajudar na identificação do problema</p>
        </div>

        <div class="form-group">
          <button type="submit" class="btn btn-submit">Enviar denúncia</button>
        </div>
      </form>
    </div>
  </main>

  <script src="../js/main.js"></script>
  <script src="../js/denuncia.js"></script>
  <script>
    // script p preview da img
    document.getElementById('foto').addEventListener('change', function (e) {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (event) {
          const img = document.getElementById('preview-image');
          img.src = event.target.result;
          document.getElementById('file-preview').style.display = 'block';
        }
        reader.readAsDataURL(file);
      }
    });
  </script>
</body>

</html>